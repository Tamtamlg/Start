# Стартовый проект с gulp и Pug

<table>
  <thead>
    <tr>
      <th>Команда</th>
      <th>Результат</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td width="22%"><code>npm i</code></td>
      <td>Установить зависимости</td>
    </tr>
    <tr>
      <td><code>gulp</code></td>
      <td>Запустить сборку, сервер и слежение за файлами</td>
    </tr>
    <tr>
      <td><code>gulp ЗАДАЧА</code></td>
      <td>Запустить задачу с названием ЗАДАЧА (список задач в <code>gulpfile.js</code>)</td>
    </tr>
  </tbody>
</table>



## Как начать новый проект

1. Клонировать этот репозиторий в новую папку (`git clone https://github.com/Tamtamlg/start new-project`) и зайти в неё (`cd new-project`).
2. Стереть историю разработки этого репозитория (`rm -rf .git`), инициировать новый (`git init`), создать удалённый репозиторий и привязать его (`git remote add origin АДРЕС`).
3. Отредактировать `README.md`, `package.json` (название проекта, автор, лицензия, сторонние пакеты и пр.)
4. Установить зависимости (`npm i`).
5. Запустить сервер разработки (команда `gulp`).

*Если репозиторий уже создан, вместо пунктов 1 и 2 просто копируем в него файлы из `https://github.com/Tamtamlg/start`



## Назначение папок

```bash
dist/           # Папка сборки, здесь работает сервер автообновлений.
src/            # Исходные файлы.
  blocks/       # - блоки проекта.
  css/          # - файлы css, которые не нужно компилировать.
  favicon/      # - фавиконки.
  fonts/        # - шрифты проекта.
  img/          # - картинки.
  js/           # - js-файлы.
  pug/          # - pug-миксины и шаблоны.
  scss/         # - стили scss.
  svg/          # - файлы для svg-спрайта.
  index.html    # - главная страница проекта.
```


## Разметка

Используется pug. HTML никак не обрабатывается.

По умолчанию используется наследование шаблонов — все страницы (см. `./src/index.pug`) являются расширениями шаблонов, в страницах описывается только содержимое «шапки», «подвала» и контентной области посредством блоков.

Каждый блок (в `./src/blocks/`) может содержать pug-файл с одноименной примесью, который будет взят includ-ом в файле `./src/pug/mixins.pug` (формируется автоматически на основании списка используемых на проекте блоков).


## Стили

Используется SCSS.
`source/scss/style.scss` - Файл-диспетчер подключений стилей (содержит только импорты).
`source/scss/base.scss` - Базовые глобальные стили.
`source/scss/variables.scss` - Переменные.
`source/scss/fonts.scss` - Шрифты.



## Модульная сетка (flexbox)

По умолчанию используется Bootstrap v.4.1.3



## Блоки

Каждый блок лежит в `source/blocks/` в своей папке. Каждый блок — папка и одноимённые scss- и html-файл. (Допускается папка img с картинками для блока)
Содержимое блока:

```bash
demo-block/               # Папка блока.
  demo-block.pug          # Разметка.
  demo-block.scss         # Стилевой файл блока.
  img                     # Папка с картинками.
```


## Подключение блоков

Добавление нового блока: в консоли `node block.js имя-блока`. Будут созданы папка блока, .scss и .pug файлы, а также папка img, добавлен импорт стилей и подключен миксин в файле `./src/pug/mixins.pug`.
